{"version":3,"sources":["js/03-promises.js"],"names":["form","document","querySelector","delay","step","amount","createPromise","position","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","onSubmit","e","i","preventDefault","value","alert","delayValue","Number","then","console","log","catch","addEventListener"],"mappings":";AAAA,MAAMA,EAAOC,SAASC,cAAc,SAC9B,MAAEC,EAAF,KAASC,EAAT,OAAeC,GAAWL,EAIhC,SAASM,EAAcC,EAAUJ,GACzBK,MAAAA,EAAgBC,KAAKC,SAAW,GAE/B,OAAA,IAAIC,QAAQ,CAACC,EAASC,KAC3BC,WAAW,KACLN,EACFI,EAAQ,CAAEL,SAAAA,EAAUJ,MAAAA,IAEpBU,EAAO,CAAEN,SAAAA,EAAUJ,MAAAA,KAEpBA,KAIP,SAASY,EAASC,GAMXC,IALLD,EAAEE,kBACIf,EAAMgB,QAAWf,EAAKe,QAAWd,EAAOc,OAC5CC,MAAM,UAGHH,EAAI,EAAGA,GAAKZ,EAAOc,MAAOF,GAAK,EAClCI,WAAaC,OAAOnB,EAAMgB,MAAQf,EAAKe,MAAQF,GAC/CX,EAAc,EAAIW,EAAGI,YAClBE,KAAK,EAAGhB,SAAAA,EAAUJ,MAAAA,MACjBqB,QAAQC,2BAA2BlB,QAAeJ,SAEnDuB,MAAM,EAAGnB,SAAAA,EAAUJ,MAAAA,MAClBqB,QAAQC,0BAA0BlB,QAAeJ,SA7BzDH,EAAK2B,iBAAiB,SAAUZ","file":"03-promises.a6c84bb2.js","sourceRoot":"../src","sourcesContent":["const form = document.querySelector('form');\nconst { delay, step, amount } = form;\n\nform.addEventListener('submit', onSubmit);\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  if (!+delay.value || !+step.value || !+amount.value) {\n    alert('hha-ha');\n  }\n\n  for (i = 0; i <= amount.value; i += 1) {\n    delayValue = Number(delay.value + step.value * i);\n    createPromise(1 + i, delayValue)\n      .then(({ position, delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n  }\n}\n"]}